<html>
    <head>
        {{ $vars := resources.Get "hbs/scss/vars.tmpl.scss" }}
        {{ $vars = $vars | resources.ExecuteAsTemplate "vars.scss" . }}
        {{ $reloaded := resources.Get "vars.scss" }}
        {{ if ne $vars $reloaded }}
            {{ errorf "%s, %#v != %#v.\n" "these should be the same" $vars $reloaded }}
        {{ end }}

        {{ $styles := resources.Get "hbs/scss/main.scss" }}
        {{ $style := $styles | toCSS (dict
            "transpiler" "dartsass"
        ) }}
        <link href="{{ $style.Permalink }}" rel="stylesheet">
    </head>
    <body>
        <h1 class="heading">Hugo Lab</h1>
    </body>
</html>